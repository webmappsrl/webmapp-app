<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        mode="ios"
        defaultHref="register"
        icon="close-outline"
        text=""
        class="webmapp-backbutton webmapp-backbutton-dark"
        (click)="close()"
      >
      </ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="!track">{{
      "pages.register.modalsave.title" | wmtrans
    }}</ion-title>
    <ion-title *ngIf="track">{{
      "pages.register.modalsave.titleEdit" | wmtrans
    }}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list #formContainer>
    <wm-form [confPOIFORMS]="acquisitionFORM$|async" (formGroupEvt)="setFormGroup($event)">
      <webmapp-form-field
        [icon]="'webmapp-icon-camera'"
        [iconColor]="'secondary'"
        [label]="'pages.register.modalsave.formphotos'"
        [noline]="true"
        ><span></span
      ></webmapp-form-field>
      <wm-image-picker
        (startAddPhotos)="startAddPhotos()"
        (endAddPhotos)="endAddPhotos()"
        (photosChanged)="photosChanged($event)"
      ></wm-image-picker>
    </wm-form>
  </ion-list>
</ion-content>

<ion-footer class="webmapp-register-modalsave-footer">
  <ion-button
    class="webmapp-register-modalsave-savebtn"
    (click)="save()"
    [disabled]="formGroup == null || (formGroup!=null && formGroup.invalid) || !(seeAllForm$|async)"
  >
    {{ "pages.register.modalsave.savebtn" | wmtrans }}</ion-button
  >

  <ion-label (click)="exit()" class="webmapp-register-modalsave-deletebtn">
    {{ 'pages.register.modalsave.deletebtn' | wmtrans }}
  </ion-label>
</ion-footer>
